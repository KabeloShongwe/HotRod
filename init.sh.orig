#!/bin/bash

# Run this script to get the initial repos prepped, as well as generate the custom config 
# files

set -e 

DIR="$( cd "$( dirname "${BASH_SOURCE[0]}" )" && pwd )"
cd $DIR

# Grab the latest hotrod-composition for our git server
echo "HotRod Composition..."
if [ -d $DIR/project/hotrod ]; then
  cd $DIR/project
  git pull
else
  cd $DIR/project
  git clone https://github.com/panoptix-za/hotrod-composition.git hotrod
fi

echo "HotRod Admin..."
if [ -d $DIR/project/admin ]; then
  cd $DIR/project/admin
  git pull
else
  cd $DIR/project
  git clone {{ hotrod_admin }} admin
fi

echo "HotRod ProjectFS..."
if [ -d $DIR/project/projectfs ]; then
  cd $DIR/project/projectfs
  git pull
else
  cd $DIR/project
  git clone {{ hotrod_projectfs }} projectfs
fi


cd $DIR
echo "Done..."



